{% extends 'base.html' %}
{% load widget_tweaks %}
{% load static %}

{% block title_block %}
Application Details
{% endblock %}

{% block body_block %}
{% include 'navbar.html' %}

<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-md-8 p-5 rounded shadow-lg bg-body">
            <h3 class="text-center text-primary mb-4">
                {{ category.loan_name }} Application Details
            </h3>

            <form method="POST" enctype="multipart/form-data">
                {% csrf_token %}

                <!-- Loan Amount -->
                <div class="mb-4">
                    <label class="form-label">Loan Amount</label>
                    {% render_field form.loan_amount|attr:'required:true' class="form-control" %}
                </div>

                <!-- Tenure -->
                <div class="mb-4">

                    <label class="form-label">Loan Tenure (Years)</label>
                    {% render_field form.year|attr:'required:true' type="number" class="form-control" %}
                </div>

                <!-- Property Details (only for Home Loan) -->
                <!-- {% if category.name|lower == "Home Loan" %}
                <h5 class="text-success mt-4 mb-3">Property Details</h5>
                <div class="mb-4">
                    <label class="form-label">Property Address</label>
                    {% render_field form.property_address|attr:'required:true' class="form-control" %}
                </div>
                <div class="mb-4">
                    <label class="form-label">Property Value</label>
                    {% render_field form.property_value|attr:'required:true' class="form-control" %}
                </div>
                <div class="mb-4">
                    <label class="form-label">Property Documents</label>
                    {% render_field form.property_documents class="form-control" %}
                </div>
                {% endif %} -->

                <!-- Occupation -->
                <div class="mb-4">
                    <label class="form-label">Occupation Type</label>
                    {% render_field form.occupation_type class="form-select" %}
                </div>

                <!-- Upload Documents -->
                <h5 class="text-success mt-4 mb-3">Upload Documents</h5>
                <div class="mb-3">
                    <label class="form-label">Identity Proof</label>
                    {% render_field form.identity_proof class="form-control" %}
                </div>
                <div class="mb-3">
                    <label class="form-label">Income Proof</label>
                    {% render_field form.income_proof class="form-control" %}
                </div>
                <div class="mb-3">
                    <label class="form-label">Bank Statement</label>
                    {% render_field form.bank_statement class="form-control" %}
                </div>

                {% if form.errors %}
                <div class="alert alert-danger mt-3">
                    <strong>Form Errors:</strong>
                    {{ form.errors }}
                </div>
                {% endif %}


                <button type="submit" class="btn btn-success w-100 mt-4">Submit Application</button>
            </form>

        </div>
    </div>
</div>

{% include 'footer.html' %}
{% endblock %}